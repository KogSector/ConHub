# Data Service Environment Variables
# Copy this file to .env and fill in your actual values

# === Service Configuration ===
DATA_SERVICE_PORT=3013
HOST=0.0.0.0
NODE_ENV=development
ENVIRONMENT=development
RUST_LOG=info

# === Database Configuration ===
# Use DATABASE_URL directly for local development
# Neon/managed Postgres tip: include `?sslmode=require` in DATABASE_URL
DATABASE_URL=postgresql://conhub:conhub_password@localhost:5432/conhub

# Or use individual components (will be combined into DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=conhub
POSTGRES_USER=conhub
POSTGRES_PASSWORD=conhub_password

# === Redis Configuration ===
REDIS_URL=redis://localhost:6379

# === Qdrant Vector Database Configuration ===
QDRANT_URL=https://your-cluster-host:6333
QDRANT_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.uIPbGMwsHdiQlzUd5ad4Yx1HWPhg1hfbu3fiHRkGr6M
QDRANT_COLLECTION=conhub_embeddings
EMBEDDING_DIMENSION=1536

# === JWT Public Key (for verifying tokens) ===
# Recommended: use a file path to avoid .env multiline issues
JWT_PUBLIC_KEY_PATH=./keys/public_key.pem

# Alternative: inline public key (use \n for newlines)
# JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkq...base64...\n-----END PUBLIC KEY-----
# Or provide Base64 DER (no headers)
# JWT_PUBLIC_KEY=MIIBIjANBgkq...base64...

# JWT Settings
JWT_ISSUER=conhub
JWT_AUDIENCE=conhub-api

# === Data Source API Keys ===
GITHUB_ACCESS_TOKEN=your_github_token_here
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

GOOGLE_DRIVE_CLIENT_ID=your_google_drive_client_id_here
GOOGLE_DRIVE_CLIENT_SECRET=your_google_drive_client_secret_here

NOTION_API_KEY=your_notion_api_key_here

# GitLab (for self-hosted instances)
GITLAB_INSTANCE_URL=https://gitlab.com
GITLAB_ACCESS_TOKEN=your_gitlab_token_here

# Dropbox
DROPBOX_APP_KEY=your_dropbox_app_key_here
DROPBOX_APP_SECRET=your_dropbox_app_secret_here
DROPBOX_ACCESS_TOKEN=your_dropbox_access_token_here

# OneDrive / Microsoft Graph
MICROSOFT_CLIENT_ID=your_azure_app_id_here
MICROSOFT_CLIENT_SECRET=your_azure_app_secret_here
MICROSOFT_TENANT_ID=common
ONEDRIVE_ACCESS_TOKEN=your_onedrive_token_here

# === AI Configuration ===
OPENAI_API_KEY=your_openai_api_key_here

# === File Processing ===
MAX_FILE_SIZE_MB=50
SUPPORTED_EXTENSIONS=.txt,.pdf,.docx,.md,.html

# === External Service URLs ===
AUTH_SERVICE_URL=http://localhost:3010
WEBHOOK_SERVICE_URL=http://localhost:3015

# === CORS Configuration ===
CORS_ORIGIN=http://localhost:3000
CORS_ORIGINS=["http://localhost:3000"]

# === Feature Toggles ===
# Path to feature-toggles.json (optional, defaults to ../feature-toggles.json)
FEATURE_TOGGLES_PATH=../feature-toggles.json
