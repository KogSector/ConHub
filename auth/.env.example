# Auth Service Environment Variables
# Copy this file to .env and fill in your actual values

# === Service Configuration ===
AUTH_SERVICE_PORT=3010
HOST=0.0.0.0
NODE_ENV=development
ENVIRONMENT=development
RUST_LOG=info

# === Database Configuration ===
# Use DATABASE_URL directly for local development
# Neon/managed Postgres tip: include `?sslmode=require` in DATABASE_URL
DATABASE_URL=postgresql://conhub:conhub_password@localhost:5432/conhub

# Or use individual components (will be combined into DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=conhub
POSTGRES_USER=conhub
POSTGRES_PASSWORD=conhub_password

# === Redis Configuration ===
REDIS_URL=redis://localhost:6379

# === JWT RS256 Authentication Configuration ===
# Generate RSA key pair using:
# openssl genrsa -out private_key.pem 2048
# openssl rsa -in private_key.pem -pubout -out public_key.pem

# Private key (used by auth service to sign JWTs)
JWT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
YOUR_PRIVATE_KEY_HERE
-----END RSA PRIVATE KEY-----"

# Public key (used by other services to verify JWTs)
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
YOUR_PUBLIC_KEY_HERE
-----END PUBLIC KEY-----"

# Alternative: Use file paths instead of inline keys
# JWT_PRIVATE_KEY_PATH=./keys/private_key.pem
# JWT_PUBLIC_KEY_PATH=./keys/public_key.pem

# JWT Settings
JWT_ISSUER=conhub
JWT_AUDIENCE=conhub-api
JWT_ACCESS_TOKEN_EXPIRY=3600  # 1 hour in seconds
JWT_REFRESH_TOKEN_EXPIRY=604800  # 7 days in seconds

# === Security Settings ===
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900  # 15 minutes in seconds

# === Rate Limiting ===
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# === CORS Configuration ===
CORS_ORIGIN=http://localhost:3000
CORS_ORIGINS=["http://localhost:3000"]

# === Feature Toggles ===
# Path to feature-toggles.json (optional, defaults to ../feature-toggles.json)
FEATURE_TOGGLES_PATH=../feature-toggles.json
