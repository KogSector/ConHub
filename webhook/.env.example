# Webhook Service Environment Variables
# Copy this file to .env and fill in your actual values

# === Service Configuration ===
WEBHOOK_SERVICE_PORT=3015
HOST=0.0.0.0
NODE_ENV=development
ENVIRONMENT=development
RUST_LOG=info

# === Database Configuration ===
# Use DATABASE_URL directly for local development
# Neon/managed Postgres tip: include `?sslmode=require` in DATABASE_URL
DATABASE_URL=postgresql://conhub:conhub_password@localhost:5432/conhub

# Or use individual components (will be combined into DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=conhub
POSTGRES_USER=conhub
POSTGRES_PASSWORD=conhub_password

# === JWT Public Key (for verifying tokens) ===
# Public key (used to verify JWTs from auth service)
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
YOUR_PUBLIC_KEY_HERE
-----END PUBLIC KEY-----"

# Alternative: Use file path instead of inline key
# JWT_PUBLIC_KEY_PATH=./keys/public_key.pem

# JWT Settings
JWT_ISSUER=conhub
JWT_AUDIENCE=conhub-api

# === Webhook Secrets ===
# GitHub Webhook Secret
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret

# GitLab Webhook Secret
GITLAB_WEBHOOK_SECRET=your_gitlab_webhook_secret

# Stripe Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# Generic Webhook Secret
GENERIC_WEBHOOK_SECRET=your_generic_webhook_secret

# === External Service URLs ===
AUTH_SERVICE_URL=http://localhost:3010
BILLING_SERVICE_URL=http://localhost:3011

# === CORS Configuration ===
CORS_ORIGIN=http://localhost:3000
CORS_ORIGINS=["http://localhost:3000"]

# === Feature Toggles ===
# Path to feature-toggles.json (optional, defaults to ../feature-toggles.json)
FEATURE_TOGGLES_PATH=../feature-toggles.json
